{"version":3,"sources":["webpack:///webpack/bootstrap bd0aa0f8993a48429d7e","webpack:///./src/cropduster.js"],"names":["__webpack_require__","moduleId","installedModules","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","DEPRECATION_MSG","CD","CORS_PROXY_SERVER","$","selector","doc","document","Array","slice","querySelectorAll","_initParams","_urlParams","search","query","_searchString","match","exec","decodeURIComponent","param","params","window","location","substring","autofill","key","length","getElementById","innerHTML","throwError","msg","MICapture","log","error","cancelRequest","cancel","setImageRedirect","imageUrl","a","createElement","href","id","style","display","body","appendChild","setClickthrough","url","setExtraData","dataObject","el","existingData","JSON","parse","getAttribute","_","setAttribute","stringify","proxyUrl","port","protocol","hostname","pathname","hash","_readyToCapture","_reset","pause","maxSuspension","setTimeout","resume","getCORS","options","arguments","undefined","callback","corsCacheTime","test","headers","this","_hashForRequest","deprecatedCallback","Promise","resolve","reject","req","XMLHttpRequest","onerror","status","statusText","onload","contentType","getResponseHeader","data","responseText","open","method","withCredentials","header","setRequestHeader","send","message","getImage","img","Image","event","src","getImages","urls","_this","afterEach","afterAll","promises","map","then","all","images","Error","waitForAsset","assetUrl","console","str","charCodeAt","toString"],"mappings":"mBAIA,SAAAA,EAAAC,GAGA,GAAAC,EAAAD,GACA,OAAAC,EAAAD,GAAAE,QAGA,IAAAC,EAAAF,EAAAD,IACAI,EAAAJ,EACAK,GAAA,EACAH,YAUA,OANAI,EAAAN,GAAAO,KAAAJ,EAAAD,QAAAC,IAAAD,QAAAH,GAGAI,EAAAE,GAAA,EAGAF,EAAAD,QAvBA,IAAAD,KA4DA,OAhCAF,EAAAS,EAAAF,EAGAP,EAAAU,EAAAR,EAGAF,EAAAW,EAAA,SAAAR,EAAAS,EAAAC,GACAb,EAAAc,EAAAX,EAAAS,IACAG,OAAAC,eAAAb,EAAAS,GACAK,cAAA,EACAC,YAAA,EACAC,IAAAN,KAMAb,EAAAoB,EAAA,SAAAhB,GACA,IAAAS,EAAAT,KAAAiB,WACA,WAA2B,OAAAjB,EAAA,SAC3B,WAAiC,OAAAA,GAEjC,OADAJ,EAAAW,EAAAE,EAAA,IAAAA,GACAA,GAIAb,EAAAc,EAAA,SAAAQ,EAAAC,GAAsD,OAAAR,OAAAS,UAAAC,eAAAjB,KAAAc,EAAAC,IAGtDvB,EAAA0B,EAAA,GAGA1B,IAAA2B,EAAA,mFC7DA,IAAMC,EAAkB,4FAElBC,GACJC,kBAAmB,6BAEnBC,EAHS,SAGPC,EAAUC,GAIV,OAHKA,IACHA,EAAMC,UAEDC,MAAMX,UAAUY,MAAM5B,KAAKyB,EAAII,iBAAiBL,KAGzDM,YAVS,WAWPT,EAAGU,cAKH,IAJA,IAAMC,EAAS,qBACTC,EAAQZ,EAAGa,gBAEbC,EAAQH,EAAOI,KAAKH,GACjBE,GACLd,EAAGU,WAAWM,mBAAmBF,EAAM,KAAOE,mBAAmBF,EAAM,IACvEA,EAAQH,EAAOI,KAAKH,IAIxBK,MAtBS,SAsBHlC,GACJ,OAAOiB,EAAGkB,SAASnC,IAGrBmC,OA1BS,SA0BFnC,GACL,IAAImC,EAASlB,EAAGU,WAMhB,YALsB,IAAXQ,IACTlB,EAAGS,cACHS,EAASlB,EAAGU,YAGV3B,EACKmC,EAAOnC,GAEPmC,GAIXL,cAxCS,WAyCP,OAAOM,OAAOC,SAAST,OAAOU,UAAU,IAG1CC,SA5CS,WA6CPtB,EAAGiB,MAAM,QACT,IAAMC,EAASlB,EAAGU,WAClB,IAAK,IAAMa,KAAOL,EACI,cAAhBA,EAAOK,IAAwBL,EAAOK,GAAKC,OAAS,GAClDnB,SAASoB,eAAT,YAAoCF,KACtClB,SAASoB,eAAT,YAAoCF,GAAOG,UAAYR,EAAOK,KAMtEI,WAxDS,SAwDEC,GACgB,oBAAdC,UACT7B,EAAG8B,IAAI,oBAAsBF,GAE7BC,UAAUE,MAAMH,IAIpBI,cAhES,SAgEKJ,GACa,oBAAdC,UACT7B,EAAG8B,IAAH,qBAA4BF,GAE5BC,UAAUI,OAAOL,IAIrBM,iBAxES,SAwEQC,GACf,IAAMC,EAAI/B,SAASoB,eAAe,sBAAwBpB,SAASgC,cAAc,KAQjF,OANAD,EAAEE,KAAOH,EACTC,EAAEG,GAAK,oBACPH,EAAEI,MAAMC,QAAU,OAElBpC,SAASqC,KAAKC,YAAYP,GAEnBA,GAGTQ,gBApFS,SAoFOC,GACd,IAAMT,EAAI/B,SAASoB,eAAe,oBAAsBpB,SAASgC,cAAc,KAQ/E,OANAD,EAAEE,KAAOO,EACTT,EAAEG,GAAK,kBACPH,EAAEI,MAAMC,QAAU,OAElBpC,SAASqC,KAAKC,YAAYP,GAEnBA,GAGTU,aAhGS,SAgGIC,GACX,IAAMC,EAAK3C,SAASoB,eAAe,YAAcpB,SAASgC,cAAc,OAExEW,EAAGT,GAAK,UACRS,EAAGR,MAAMC,QAAU,OAEnB,IAAIQ,SACJ,IACEA,EAAeC,KAAKC,MAAMH,EAAGI,aAAa,qBAC1C,MAAOC,GAEPJ,KAGF,IAAK,IAAM1B,KAAOwB,EACZA,EAAWnD,eAAe2B,KAC5B0B,EAAa1B,GAAOwB,EAAWxB,IAOnC,OAHAyB,EAAGM,aAAa,eAAgBJ,KAAKK,UAAUN,IAC/C5C,SAASqC,KAAKC,YAAYK,GAEnBA,GAGTQ,SA1HS,SA0HAX,GACP,IAAMT,EAAI/B,SAASgC,cAAc,KACjCD,EAAEE,KAAOO,EAET,IAAIY,EAAO,GAETA,EADa,MAAXrB,EAAEqB,MAA2B,KAAXrB,EAAEqB,KACA,WAAfrB,EAAEsB,SAAwB,OAAS,GAE1CD,IAAWrB,EAAEqB,KARH,IAWJE,EAAqCvB,EAArCuB,SAAUC,EAA2BxB,EAA3BwB,SAAUjD,EAAiByB,EAAjBzB,OAAQkD,EAASzB,EAATyB,KACpC,OAAU7D,EAAGC,kBAAb,IAAkC0D,EAAWF,EAAOG,EAAWjD,EAASkD,GAI1EC,iBAAiB,EAEjBC,OA5IS,WA6IP/D,EAAG8D,iBAAkB,GAGvBE,MAhJS,SAgJHC,EAAerC,GACnBA,EAAMA,GAAO,oBAETqC,IACFrC,oBAAwBqC,EAAxB,KAEAC,WAAW,WACTrC,UAAUsC,OAAOvC,IAChBqC,IAGoB,oBAAdpC,UACT7B,EAAG8B,IAAH,WAAkBF,GAElBC,UAAUmC,MAAMpC,IAIpBuC,OAlKS,SAkKFvC,GACoB,oBAAdC,UACT7B,EAAG8B,IAAH,4BAAmCF,GAEnCC,UAAUsC,OAAOvC,IAIrBwC,QA1KS,SA0KDvB,GAAwC,IAAnCwB,EAAmCC,UAAA9C,OAAA,QAAA+C,IAAAD,UAAA,GAAAA,UAAA,MAArBE,EAAqBF,UAAA9C,OAAA,QAAA+C,IAAAD,UAAA,GAAAA,UAAA,GAAV,aAepC,MAduB,mBAAZD,IACTG,EAAWH,EACXA,MAGFA,EAAQI,cAAgBJ,EAAQI,eAAiB,IAC5C,sBAAsBC,KAAK7B,KAC9BA,EAAM7C,EAAGwD,SAASX,IAGpBwB,EAAQM,QAAUN,EAAQM,YAC1BN,EAAQM,QAAQ,uBAAyBN,EAAQI,cAAgB,IACjEJ,EAAQM,QAAQ,YAAcC,KAAKC,gBAAgBhC,EAAKwB,GAEjDrE,EAAGV,IAAIuD,EAAKwB,EAASG,IAG9BlF,IA5LS,SA4LLuD,GAAwC,IAAnCwB,EAAmCC,UAAA9C,OAAA,QAAA+C,IAAAD,UAAA,GAAAA,UAAA,MAArBE,EAAqBF,UAAA9C,OAAA,QAAA+C,IAAAD,UAAA,GAAAA,UAAA,GAAV,aACT,mBAAZD,IACTG,EAAWH,EACXA,MAGF,IAAMS,EAAqB,WACzB,GAAIN,GAAgC,mBAAbA,EAErB,OADAxE,EAAG8B,IAAI/B,GACAyE,eAAYF,YAIjB1C,UAAciB,EAEpB,OAAO,IAAIkC,QAAQ,SAASC,EAASC,GACnC,IACE,IAAMC,EAAM,IAAIC,eAkChB,GAhCAD,EAAIE,QAAU,WACZpF,EAAGmE,OAAOvC,GACV5B,EAAG8B,IAAH,iBAAwBe,GAExBiC,EAAmB,MAEnBG,GACEI,OAAQT,KAAKS,OACbC,WAAYJ,EAAII,cAIpBJ,EAAIK,OAAS,WACXvF,EAAGmE,OAAOvC,GAEV,IAAM4D,EAAcZ,KAAKa,kBAAkB,gBACrCC,EAAOd,KAAKe,aACZN,EAAST,KAAKS,OAEpBP,EAAmBY,EAAML,EAAQG,GAEjCR,GACEQ,cACAE,OACAL,YAIJH,EAAIU,KAAKvB,EAAQwB,QAAU,MAAOhD,GAAK,GAEvCqC,EAAIY,iBAAkB,EAElBzB,EAAQM,QACV,IAAK,IAAMoB,KAAU1B,EAAQM,QAC3BO,EAAIc,iBAAiBD,EAAQ1B,EAAQM,QAAQoB,IAIjDb,EAAIe,KAAK5B,EAAQ3B,MACjB1C,EAAGgE,MAAMK,EAAQJ,cAAerC,GAChC,MAAOG,GACP+C,EAAmB,MAEnBG,GACEiB,gDAAiDnE,EACjDA,MAAOA,QAMfoE,SAlQS,SAkQAtD,GAAwC,IAAnCwB,EAAmCC,UAAA9C,OAAA,QAAA+C,IAAAD,UAAA,GAAAA,UAAA,MAArBE,EAAqBF,UAAA9C,OAAA,QAAA+C,IAAAD,UAAA,GAAAA,UAAA,GAAV,aACd,mBAAZD,IACTG,EAAWH,EACXA,MAGF,IAAMS,EAAqB,WACzB,GAAIN,GAAgC,mBAAbA,EAGrB,OAFAxE,EAAG8B,IAAI/B,GAEAyE,eAAYF,YAIjB1C,eAAmBiB,EAEzB,OAAO,IAAIkC,QAAQ,SAASC,EAASC,GACnC,IAAMmB,EAAM,IAAIC,MAEhBD,EAAIb,OAAS,WACXvF,EAAGmE,OAAOvC,GAEVkD,EAAmBsB,GAEnBpB,EAAQoB,IAGVA,EAAIhB,QAAU,SAASkB,GACrBtG,EAAGmE,OAAOvC,GAEVkD,EAAmB,MAEnBG,EAAOqB,IAGTtG,EAAGgE,MAAMK,EAAQJ,cAAerC,GAChCwE,EAAIG,IAAM1D,KAed2D,UArTS,SAqTCC,GAAyC,IAAnCpC,EAAmCC,UAAA9C,OAAA,QAAA+C,IAAAD,UAAA,GAAAA,UAAA,MAAAoC,EAAA9B,KAArB+B,EAAqBrC,UAAA,GAAVsC,EAAUtC,UAAA,GAC3C1C,EAAM,aACZ5B,EAAGgE,MAAMK,EAAQJ,cAAerC,GAET,mBAAZyC,IACTuC,EAAWD,EACXA,EAAYtC,EACZA,MAGF,IAAMwC,EAAWJ,EAAKK,IAAI,SAAAjE,GACxB,OAAO6D,EAAKP,SAAStD,EAAKwB,EAAQJ,eAAe8C,KAAK,SAAAX,GAKpD,OAJIO,GACFA,EAAUP,GAGLA,MAIX,OAAOrB,QAAQiC,IAAIH,GAAUE,KAC3B,SAAAE,GAOE,OANIL,IACF5G,EAAG8B,IAAI/B,GACP6G,EAASK,IAGXjH,EAAGmE,OAAOvC,GACHqF,GAET,SAAA5D,GAEE,MADArD,EAAGmE,OAAOvC,GACJ,IAAIsF,MAAM,yCAItBC,aAzVS,SAyVIC,GACc,oBAAdvF,UACT7B,EAAG8B,IAAH,mBAA0BsF,GAE1BvF,UAAUsF,aAAaC,IAI3BtF,IAjWS,SAiWLoE,GACFmB,QAAQvF,IAAIoE,IAGdrB,gBArWS,SAqWOhC,EAAKwB,GACnB,IAAMiD,KAASzE,EAAMK,KAAKK,UAAUc,GAEhCR,EAAO,EACX,GAAmB,IAAfyD,EAAI9F,OAAc,OAAOqC,EAE7B,IAAK,IAAIrF,EAAI,EAAGA,EAAI8I,EAAI9F,OAAQhD,IAC9BqF,GAASA,GAAQ,GAAKA,EAAOyD,EAAIC,WAAW/I,GAAM,WAGpD,OAAOqF,EAAK2D,uBAIDxH","file":"cropduster.browser.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap bd0aa0f8993a48429d7e","const DEPRECATION_MSG = 'callbacks are deprecated in cropduster, prefer using promises for asynchronous operations';\n\nconst CD = {\n  CORS_PROXY_SERVER: 'http://cors.movableink.com',\n\n  $(selector, doc) {\n    if (!doc) {\n      doc = document;\n    }\n    return Array.prototype.slice.call(doc.querySelectorAll(selector));\n  },\n\n  _initParams() {\n    CD._urlParams = {};\n    const search = /([^&=]+)=?([^&]*)/g;\n    const query = CD._searchString();\n\n    let match = search.exec(query);\n    while (match) {\n      CD._urlParams[decodeURIComponent(match[1])] = decodeURIComponent(match[2]);\n      match = search.exec(query);\n    }\n  },\n\n  param(name) {\n    return CD.params()[name];\n  },\n\n  params(name) {\n    let params = CD._urlParams;\n    if (typeof params === 'undefined') {\n      CD._initParams();\n      params = CD._urlParams;\n    }\n\n    if (name) {\n      return params[name];\n    } else {\n      return params;\n    }\n  },\n\n  _searchString() {\n    return window.location.search.substring(1);\n  },\n\n  autofill() {\n    CD.param('init'); // inits CD._urlParams\n    const params = CD._urlParams;\n    for (const key in params) {\n      if (params[key] !== 'undefined' && params[key].length > 0) {\n        if (document.getElementById(`autofill_${key}`)) {\n          document.getElementById(`autofill_${key}`).innerHTML = params[key];\n        }\n      }\n    }\n  },\n\n  throwError(msg) {\n    if (typeof MICapture === 'undefined') {\n      CD.log('Capturama error: ' + msg);\n    } else {\n      MICapture.error(msg);\n    }\n  },\n\n  cancelRequest(msg) {\n    if (typeof MICapture === 'undefined') {\n      CD.log(`Request canceled: ${msg}`);\n    } else {\n      MICapture.cancel(msg);\n    }\n  },\n\n  setImageRedirect(imageUrl) {\n    const a = document.getElementById('mi-redirect-image') || document.createElement('a');\n\n    a.href = imageUrl;\n    a.id = 'mi-redirect-image';\n    a.style.display = 'none';\n\n    document.body.appendChild(a);\n\n    return a;\n  },\n\n  setClickthrough(url) {\n    const a = document.getElementById('mi_dynamic_link') || document.createElement('a');\n\n    a.href = url;\n    a.id = 'mi_dynamic_link';\n    a.style.display = 'none';\n\n    document.body.appendChild(a);\n\n    return a;\n  },\n\n  setExtraData(dataObject) {\n    const el = document.getElementById('mi-data') || document.createElement('div');\n\n    el.id = 'mi-data';\n    el.style.display = 'none';\n\n    let existingData;\n    try {\n      existingData = JSON.parse(el.getAttribute('data-mi-data')) || {};\n    } catch (_) {\n      // Overwrite if there was something in mi-data that wasn't JSON\n      existingData = {};\n    }\n\n    for (const key in dataObject) {\n      if (dataObject.hasOwnProperty(key)) {\n        existingData[key] = dataObject[key];\n      }\n    }\n\n    el.setAttribute('data-mi-data', JSON.stringify(existingData));\n    document.body.appendChild(el);\n\n    return el;\n  },\n\n  proxyUrl(url) {\n    const a = document.createElement('a');\n    a.href = url;\n\n    let port = '';\n    if (a.port === '0' || a.port === '') {\n      port = a.protocol === 'https:' ? ':443' : '';\n    } else {\n      port = `:${a.port}`;\n    }\n\n    const { hostname, pathname, search, hash } = a;\n    return `${CD.CORS_PROXY_SERVER}/${hostname}${port}${pathname}${search}${hash}`;\n  },\n\n  // internal, do not modify\n  _readyToCapture: true,\n\n  _reset() {\n    CD._readyToCapture = true;\n  },\n\n  pause(maxSuspension, msg) {\n    msg = msg || 'manual suspension';\n\n    if (maxSuspension) {\n      msg += `, will end in ${maxSuspension}ms`;\n\n      setTimeout(() => {\n        MICapture.resume(msg);\n      }, maxSuspension);\n    }\n\n    if (typeof MICapture === 'undefined') {\n      CD.log(`paused: ${msg}`);\n    } else {\n      MICapture.pause(msg);\n    }\n  },\n\n  resume(msg) {\n    if (typeof MICapture === 'undefined') {\n      CD.log(`resuming paused capture: ${msg}`);\n    } else {\n      MICapture.resume(msg);\n    }\n  },\n\n  getCORS(url, options = {}, callback = () => {}) {\n    if (typeof options === 'function') {\n      callback = options;\n      options = {};\n    }\n\n    options.corsCacheTime = options.corsCacheTime || 10 * 1000;\n    if (!/cors.movableink.com/.test(url)) {\n      url = CD.proxyUrl(url);\n    }\n\n    options.headers = options.headers || {};\n    options.headers['x-reverse-proxy-ttl'] = options.corsCacheTime / 1000;\n    options.headers['x-mi-cbe'] = this._hashForRequest(url, options);\n\n    return CD.get(url, options, callback);\n  },\n\n  get(url, options = {}, callback = () => {}) {\n    if (typeof options === 'function') {\n      callback = options;\n      options = {};\n    }\n\n    const deprecatedCallback = function() {\n      if (callback && typeof callback === 'function') {\n        CD.log(DEPRECATION_MSG);\n        return callback(...arguments);\n      }\n    };\n\n    const msg = `xhr: ${url}`;\n\n    return new Promise(function(resolve, reject) {\n      try {\n        const req = new XMLHttpRequest();\n\n        req.onerror = function() {\n          CD.resume(msg);\n          CD.log(`XHR error for ${url}`);\n\n          deprecatedCallback(null);\n\n          reject({\n            status: this.status,\n            statusText: req.statusText\n          });\n        };\n\n        req.onload = function() {\n          CD.resume(msg);\n\n          const contentType = this.getResponseHeader('content-type');\n          const data = this.responseText;\n          const status = this.status;\n\n          deprecatedCallback(data, status, contentType);\n\n          resolve({\n            contentType,\n            data,\n            status\n          });\n        };\n\n        req.open(options.method || 'GET', url, true);\n\n        req.withCredentials = true;\n\n        if (options.headers) {\n          for (const header in options.headers) {\n            req.setRequestHeader(header, options.headers[header]);\n          }\n        }\n\n        req.send(options.body);\n        CD.pause(options.maxSuspension, msg);\n      } catch (error) {\n        deprecatedCallback(null);\n\n        reject({\n          message: `Cropduster failed to create Promise: ${error}`,\n          error: error\n        });\n      }\n    });\n  },\n\n  getImage(url, options = {}, callback = () => {}) {\n    if (typeof options === 'function') {\n      callback = options;\n      options = {};\n    }\n\n    const deprecatedCallback = function() {\n      if (callback && typeof callback === 'function') {\n        CD.log(DEPRECATION_MSG);\n\n        return callback(...arguments);\n      }\n    };\n\n    const msg = `getImage: ${url}`;\n\n    return new Promise(function(resolve, reject) {\n      const img = new Image();\n\n      img.onload = function() {\n        CD.resume(msg);\n\n        deprecatedCallback(img);\n\n        resolve(img);\n      };\n\n      img.onerror = function(event) {\n        CD.resume(msg);\n\n        deprecatedCallback(null);\n\n        reject(event);\n      };\n\n      CD.pause(options.maxSuspension, msg);\n      img.src = url;\n    });\n  },\n\n  /**\n   * NOTE: getImages is intended to be used with promises. The `afterAll` callback is\n   * now deprecated, and the order of the afterEach and afterAll arguments has\n   * been reversed since previous versions of cropduster.\n   *\n   * To achieve the same effect, users should pass a single callback into the\n   * arguments for getImages, and then use a `.then` call to handle any actions\n   * after all images have finished loading.\n   *\n   * If any image fails to load, the Promise will reject.\n   */\n  getImages(urls, options = {}, afterEach, afterAll) {\n    const msg = 'getImages:';\n    CD.pause(options.maxSuspension, msg);\n\n    if (typeof options === 'function') {\n      afterAll = afterEach;\n      afterEach = options;\n      options = {};\n    }\n\n    const promises = urls.map(url => {\n      return this.getImage(url, options.maxSuspension).then(img => {\n        if (afterEach) {\n          afterEach(img);\n        }\n\n        return img;\n      });\n    });\n\n    return Promise.all(promises).then(\n      images => {\n        if (afterAll) {\n          CD.log(DEPRECATION_MSG);\n          afterAll(images);\n        }\n\n        CD.resume(msg);\n        return images;\n      },\n      _ => {\n        CD.resume(msg);\n        throw new Error('Not all images loaded successfully');\n      });\n  },\n\n  waitForAsset(assetUrl) {\n    if (typeof MICapture === 'undefined') {\n      CD.log(`Wait for asset: ${assetUrl}`);\n    } else {\n      MICapture.waitForAsset(assetUrl);\n    }\n  },\n\n  log(message) {\n    console.log(message);\n  },\n\n  _hashForRequest(url, options) {\n    const str = `${url}${JSON.stringify(options)}`;\n\n    let hash = 0;\n    if (str.length === 0) return hash;\n\n    for (let i = 0; i < str.length; i++) {\n      hash = ((hash << 5) - hash + str.charCodeAt(i)) & 0xffffffff;\n    }\n\n    return hash.toString();\n  }\n};\n\nexport default CD;\n\n\n\n// WEBPACK FOOTER //\n// ./src/cropduster.js"],"sourceRoot":""}